<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>bobbyspaghettiwagon.com</title>

  <style>
    body {
      background-image: url("Mechanic Spaghettti Image Aug 9, 2025, 03_33_02 PM.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
      margin: 0;
    }

    h1 { margin-top: 0; }

    .text-block {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      max-width: 640px;
      margin: 20px auto;
    }

    /* --------- Scroll Scene --------- */
    /* This creates “scroll distance” to drive the animation */
    #spaghetti-scene {
      height: 1000vh;            /* more = longer pour */
      position: relative;
      max-width: 1100px;
      margin: 40px auto 0 auto;
    }

    /* Sticky makes the scene stay on screen while you scroll through it */
    .scene-inner {
      position: sticky;
      top: 0;
      height: 100vh;
      display: grid;
      grid-template-columns: 1fr 260px;
      gap: 18px;
      align-items: center;
      padding: 16px;
    }

    /* Mechanic stage */
    #mechanic-stage {
      position: relative;
      width: 100%;
      max-width: 760px;
      margin: 0 auto;
      border-radius: 16px;
      overflow: hidden;
      background: rgba(0,0,0,0.35);
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
    }

    /* Mechanic image (base) */
    #mechanic-img {
      width: 100%;
      height: auto;
      display: block;
      filter: contrast(1.05) saturate(1.05);
    }

/* Spaghetti reveal wrapper becomes a viewport */
#spaghetti-wrap {
  position: absolute;
  left: 55%;
  top: 60%;
  width: 220px;

  height: 0px;              /* JS will grow up to tileHeight */
  overflow: hidden;         /* keep it like a viewport */
  transform: translateX(-50%);
  will-change: height;
  pointer-events: none;
}


/* Stack of 6 tiles */
#spaghetti-stack {
  display: flex;
  flex-direction: column;
}

/* Each tile is one “segment” of pour */
.spaghetti-tile {
  width: 100%;
  height: 320px; /* <— IMPORTANT: this is the segment height */
  background: url("spaghetti pour.png") no-repeat center / cover;
  filter: drop-shadow(0 10px 10px rgba(0,0,0,.25));
  transform-origin: center;
}

/* Alternate 180° rotation every other tile */
.spaghetti-tile.t2,
.spaghetti-tile.t4,
.spaghetti-tile.t6
.spaghetti-tile.t8
.spaghetti-tile.t10
.spaghetti-tile.t12
.spaghetti-tile.t14 {
  transform: rotate(180deg);
}

/* ============================= */
/* STORY OVERLAY (ADD THIS HERE) */
/* ============================= */

#spaghetti-story{
  position: absolute;
  inset: 0;
  z-index: 10;        /* above spaghetti tiles */
  pointer-events: none;
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

#spaghetti-story .story-inner{
  width: 92%;
  margin-top: 10px;
  color: rgba(255,255,255,.95);
  text-shadow: 0 2px 10px rgba(0,0,0,.85);
  line-height: 1.25;
  font-weight: 700;
  font-size: 20px;

  background: rgba(0,0,0,.28);
  border-radius: 10px;
  padding: 10px 12px;
  backdrop-filter: blur(2px);

  will-change: transform;
}

#spaghetti-story h3{
  margin: 0 0 8px 0;
  font-size: 20px;
  letter-spacing: 1px;
}

#spaghetti-story p{
  margin: 0 0 10px 0;
}

/* ============================= */
/* END STORY OVERLAY CSS         */
/* ============================= */

    /* Meatball pinned on the right */

    /* A little greasy shine that slides as it “rolls” */
#meatball {
  width: 220px;
  height: 220px;
  background: url("meatball.png") no-repeat center / contain;
  will-change: transform, filter;
}

    /* Instruction badge */
    .scroll-hint{
      text-align:center;
      font-size: 14px;
      opacity: .9;
      margin-top: 10px;
      background: rgba(0,0,0,.55);
      padding: 10px 12px;
      border-radius: 999px;
      display:inline-block;
    }

    /* Mobile tweaks */
    @media (max-width: 860px){
      .scene-inner{
        grid-template-columns: 1fr;
        gap: 14px;
      }
      #spaghetti-wrap{
        width: 180px;
      }
    }
  </style>
</head>

<body>
  <h1>Welcome to Bobby's Spaghetti Wagon .com</h1>
  <marquee>WHY IS YOUR GRANDMA MADE OF SPAGHETTI?</marquee>

  <video width="640" height="360" controls autoplay loop muted>
    <source src="whyisyourgrandmamadeofspaghetti.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="text-block">
    <h2>All you gotta bring is your hands.</h2>
    <p>No hands? No Problem! You can use your feet.</p>
    <p>
      Our spaghetti comes out HOT. So before even thinking about making an order you gotta sign a waiver stating that
      no matter how many burns you get you will under no circumstance litigate your experience here at bobby's spghetti wagon .com.
      Period. Enjoy your spghetti. It's good. You're gonna like it.
    </p>
  </div>

<section id="spaghetti-scene">
  <div class="scene-inner">

    <!-- LEFT COLUMN -->
    <div>
      <div id="mechanic-stage">
        <img id="mechanic-img" src="bobby barf.png" alt="Greasy mechanic" />

        <div id="spaghetti-wrap" aria-hidden="true">
          <div id="spaghetti-stack">
            <div class="spaghetti-tile t1"></div>
            <div class="spaghetti-tile t2"></div>
            <div class="spaghetti-tile t3"></div>
            <div class="spaghetti-tile t4"></div>
            <div class="spaghetti-tile t5"></div>
            <div class="spaghetti-tile t6"></div>
            <div class="spaghetti-tile t7"></div>
            <div class="spaghetti-tile t8"></div>
            <div class="spaghetti-tile t9"></div>
            <div class="spaghetti-tile t10"></div>
            <div class="spaghetti-tile t12"></div>
            <div class="spaghetti-tile t13"></div>
            <div class="spaghetti-tile t14"></div>
          </div>

          <!-- STORY OVERLAY -->
          <div id="spaghetti-story">
            <div class="story-inner" id="story-inner">
              <h3>This a my story!</h3>
              <p>I came to this country with only one spaghetti noodle in my pocket. I had to use it for a shoe lace in my boot. I had no choice, I had nothing else. I had to cut my only spaghetti noodle in half and use one half a noodle for each boot lace and I pulled myself up by my boot spaghetties.</p>
              <p>Bobbyspaghetti wagon .com start as a cardboard box I push on a skateboard. In 1997 I sell my watch to buy one onion and a ketchup and I make a noodle with my hands using ashes of a grandma made of spaghetti. I don’t tell no one but everyone love a spaghetti made of grandma made of spaghetti ashes.</p>
              <p>That’s how I make my first 20 dollars!  With that I buy a can of real tomatoes and two more onions.That night I sleep like a baby in my cardboard box skateboard wagon with many patriot love for this great country.</p>
              <p>In the morning I brush my teeth with spaghetti sauce and  I sell enough spaghetti to go to the government department of Fedex Kinkos and I print a green card, a social security card, a birth certificate (born in Texas ;) and a death certificate for my grandma ;) and certificate for a bachelor of culinary science from the Massachusetts Institute of Spaghetti Technologies (MIST) Valve Victorian, Magma Cum Loud special honors I graduate!</p>
              <p>I then have everything I need to make the most successful spaghetti wagon in the history of the universe. That night I make a dream I get abducted by a sexy alien. She take me up to her space kitchen and show me how to make the perfect spaghetti noodle with grandma spaghetti ashes and she show me how to use a colander to protect my secret recipe thoughts from the Fedex government.</p>
              <p>I wake up very happy except my bed is wet with spaghetti sauce so I go to work so I can afford a water to clean my hands.<p>
              <p>That is the whole true story of how bobbyspaghettiwagon.com survive the Y2K.<p>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align:center; margin-top: 12px;">
        <span class="scroll-hint"></span>
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div>
      <div id="meatball" aria-label="Meatball"></div>
      <div style="text-align:center; margin-top: 10px; opacity:.9;"></div>
    </div>

  </div>
</section>


<script>
(() => {
  const scene = document.getElementById("spaghetti-scene");
  const meatball = document.getElementById("meatball");
  const spaghettiWrap = document.getElementById("spaghetti-wrap");
  const spaghettiStack = document.getElementById("spaghetti-stack");
  const storyInner = document.getElementById("story-inner");

  const clamp = (v, a = 0, b = 1) => Math.min(b, Math.max(a, v));

  let latestScrollY = window.scrollY;
  window.addEventListener("scroll", () => { latestScrollY = window.scrollY; }, { passive: true });

  function tick() {
    if (!scene || !meatball || !spaghettiWrap || !spaghettiStack) {
      requestAnimationFrame(tick);
      return;
    }

    const rect = scene.getBoundingClientRect();
    const sceneTop = window.scrollY + rect.top;
    const sceneHeight = scene.offsetHeight;
    const viewportH = window.innerHeight;

    // progress: 0 at top of scene, 1 at bottom of scene
    const raw = (latestScrollY - sceneTop) / (sceneHeight - viewportH);
    const progress = clamp(raw);

    // ----- 1) Meatball rolls with scroll -----
    const spins = 5;
    const rot = progress * (spins * 360);
    const bob = Math.sin(progress * Math.PI * 2) * 6;
    const squash = 1 - Math.abs(Math.sin(progress * Math.PI)) * 0.04;

    meatball.style.transform =
      `translateY(${bob}px) rotate(${rot}deg) scaleY(${squash}) scaleX(${1 + (1 - squash)})`;

    const greasiness = 0.95 + progress * 0.15;
    meatball.style.filter = `saturate(${1.0 + progress * 0.25}) brightness(${greasiness})`;

    // ----- 2) Spaghetti conveyor (6 tiles) -----
    const tileEl = document.querySelector(".spaghetti-tile");
    const tileHeight = tileEl ? tileEl.getBoundingClientRect().height : 320;
    const tiles = 14;

    const totalPour = tileHeight * tiles;
    const poured = progress * totalPour;

    // Grow viewport up to one tile tall
    const visible = Math.min(poured, tileHeight);
    spaghettiWrap.style.height = `${visible}px`;

    // Slide stack upward after first tile
    const maxOffset = totalPour - tileHeight;
    const offset = Math.min(Math.max(poured - tileHeight, 0), maxOffset);

    spaghettiStack.style.transform = `translateY(${-offset}px)`;

    // ----- 3) Story follows spaghetti (printed on noodles) -----
    if (storyInner) {
      storyInner.style.transform = `translateY(${-offset}px)`;
    }

    requestAnimationFrame(tick);
  }

  requestAnimationFrame(tick);
})();
</script>

</body>
</html>

