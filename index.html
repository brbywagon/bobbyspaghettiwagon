<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>bobbyspaghettiwagon.com</title>

  <style>
    body {
      background-image: url("Mechanic Spaghettti Image Aug 9, 2025, 03_33_02 PM.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
      margin: 0;
    }

    h1 { margin-top: 0; }

    .text-block {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      max-width: 640px;
      margin: 20px auto;
    }

    /* --------- Scroll Scene --------- */
    /* This creates ‚Äúscroll distance‚Äù to drive the animation */
    #spaghetti-scene {
      height: 260vh;            /* more = longer pour */
      position: relative;
      max-width: 1100px;
      margin: 40px auto 0 auto;
    }

    /* Sticky makes the scene stay on screen while you scroll through it */
    .scene-inner {
      position: sticky;
      top: 0;
      height: 100vh;
      display: grid;
      grid-template-columns: 1fr 260px;
      gap: 18px;
      align-items: center;
      padding: 16px;
    }

    /* Mechanic stage */
    #mechanic-stage {
      position: relative;
      width: 100%;
      max-width: 760px;
      margin: 0 auto;
      border-radius: 16px;
      overflow: hidden;
      background: rgba(0,0,0,0.35);
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
    }

    /* Mechanic image (base) */
    #mechanic-img {
      width: 100%;
      height: auto;
      display: block;
      filter: contrast(1.05) saturate(1.05);
    }

    /* Spaghetti reveal wrapper (mask). Height is driven by JS */
    #spaghetti-wrap {
      position: absolute;
      left: 52%;
      top: 40%;
      width: 220px;
      height: 0px;             /* JS updates this */
      overflow: hidden;
      transform: translateX(-50%);
      will-change: height;
      pointer-events: none;
    }
    #spaghetti-img {
      width: 100%;
      height: auto;
      display: block;
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.25));
    }

    /* Meatball pinned on the right */

    }

    /* A little greasy shine that slides as it ‚Äúrolls‚Äù */
#meatball {
  width: 220px;
  height: 220px;
  background: url("meatball.png") no-repeat center / contain;
  will-change: transform, filter;
}

    /* Instruction badge */
    .scroll-hint{
      text-align:center;
      font-size: 14px;
      opacity: .9;
      margin-top: 10px;
      background: rgba(0,0,0,.55);
      padding: 10px 12px;
      border-radius: 999px;
      display:inline-block;
    }

    /* Mobile tweaks */
    @media (max-width: 860px){
      .scene-inner{
        grid-template-columns: 1fr;
        gap: 14px;
      }
      #spaghetti-wrap{
        width: 180px;
      }
    }
  </style>
</head>

<body>
  <h1>Welcome to Bobby's Spaghetti Wagon .com</h1>
  <marquee>Under Construction üöß</marquee>

  <video width="640" height="360" controls autoplay loop muted>
    <source src="whyisyourgrandmamadeofspaghetti.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="text-block">
    <h2>All you gotta bring is your hands.</h2>
    <p>No hands? No Problem! You can use your feet.</p>
    <p>
      Our spaghetti comes out HOT. So before even thinking about making an order you gotta sign a waiver stating that
      no matter how many burns you get you will under no circumstance litigate your experience here at bobby's spghetti wagon .com.
      Period. Enjoy your spghetti. It's good. You're gonna like it.
    </p>
  </div>

  <!-- Scroll-driven interactive scene -->
  <section id="spaghetti-scene">
    <div class="scene-inner">
      <div>
        <div id="mechanic-stage">
          <!-- Replace these with your real assets -->
          <img id="mechanic-img" src="greasy mechanic.png" alt="Greasy mechanic" />
          <div id="spaghetti-wrap">
            <img id="spaghetti-img" src="spaghetti pour.png" alt="Spaghetti pour" />
          </div>
        </div>

        <div style="text-align:center; margin-top: 12px;">
          <span class="scroll-hint">‚¨áÔ∏è scroll to pour ‚Ä¢ ‚¨ÜÔ∏è scroll to rewind</span>
        </div>
      </div>

      <div>
        <div id="meatball" aria-label="Meatball"></div>
        <div style="text-align:center; margin-top: 10px; opacity:.9;">MEATBALL CONTROL MODULE</div>
      </div>
    </div>
  </section>

  <script>
    (() => {
      const scene = document.getElementById("spaghetti-scene");
      const meatball = document.getElementById("meatball");
      const meatballShine = meatball?.querySelector?.(":scope::after"); // not directly selectable; we‚Äôll animate via CSS var instead
      const spaghettiWrap = document.getElementById("spaghetti-wrap");

      // Use a CSS variable for the shine shift
      meatball.style.setProperty("--shineX", "0px");

      const clamp = (v, a = 0, b = 1) => Math.min(b, Math.max(a, v));

      let latestScrollY = window.scrollY;
      window.addEventListener("scroll", () => { latestScrollY = window.scrollY; }, { passive: true });

      function tick() {
        const rect = scene.getBoundingClientRect();
        const sceneTop = window.scrollY + rect.top;
        const sceneHeight = scene.offsetHeight;
        const viewportH = window.innerHeight;

        // progress: 0 at top of scene, 1 at bottom of scene
        const raw = (latestScrollY - sceneTop) / (sceneHeight - viewportH);
        const progress = clamp(raw);

        // ----- 1) Meatball stays pinned but ‚Äúrolls‚Äù with scroll -----
        const spins = 5; // number of full rotations across the scene
        const rot = progress * (spins * 360);
        const bob = Math.sin(progress * Math.PI * 2) * 6; // subtle wobble
        const squash = 1 - Math.abs(Math.sin(progress * Math.PI)) * 0.04; // tiny squash illusion

        meatball.style.transform = `translateY(${bob}px) rotate(${rot}deg) scaleY(${squash}) scaleX(${1 + (1-squash)})`;

        // fake ‚Äúgreasy‚Äù shine drift by adjusting filter a bit
        const greasiness = 0.95 + progress * 0.15;
        meatball.style.filter = `saturate(${1.0 + progress * 0.25}) brightness(${greasiness})`;

        // ----- 2) Spaghetti pour reveal (scrubbed) -----
        const maxPourPx = 320; // adjust to taste
        spaghettiWrap.style.height = `${progress * maxPourPx}px`;

        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);
    })();
  </script>
</body>
</html>

